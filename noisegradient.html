<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
    canvas {
        min-width: 80vw;
    }
    </style>
</head>
<body>

<canvas id="canvas" width='400' height="400"></canvas>
<script type="module">
    const can = document.querySelector('#canvas')
    const c = can.getContext('2d')
    c.imageSmoothingEnabled = false
    c.save()
    c.scale(1,1)
    const w = 400
    const h = 400
    c.fillStyle = 'black'
    c.fillRect(0,0,w,h)
    c.fillStyle = 'red'


    function length(v) {
        return Math.sqrt(v.x*v.x + v.y*v.y)
    }
    function sdCircle(p,r ) {
        return length(p) - r;
    }


    function hsl(h, s, l) {
        return `hsl(${h*360},${s*100}%,${l*100}%)`
    }

    for(let x=0; x<w; x++) {
        for(let y=0; y<h; y++) {
            const v = Math.random()
            let p = {x:x-w/2, y:y-h/2}
            let d = sdCircle(p,100)
            let l = 50
            let s = 50
            let hue = d
            if(v < d/100) {
                hue = 180
                s = v*100
                l = v*100
            }
            c.fillStyle = `hsl(${hue},${s}%,${l}%)`
            c.fillRect(x,y,1,1)
        }
    }
    c.restore()
</script>

</body>
</html>
